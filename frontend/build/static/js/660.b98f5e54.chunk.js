"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[660],{3660:function(e,n,a){a.r(n),a.d(n,{SignPage:function(){return y}});var r=a(1413),s=a(8214),i=a(5861),o=a(885),t=a(2791),l=a(6151),d=a(4708),u=a(8415),c=a(533),m=a(703),p=a(8870),g=a(1889),h=a(890);var Z=a.p+"static/media/user-login.13df92e0debe4b01ca910737e350819a.svg",f=a(7909),x=a(6871);new(a(8190).Z);var v=a(2888),w=a(3896),b=a(5523),j=a(9174),S=a(184);function y(){var e=(0,x.s0)(),n=(0,w.cI)({defaultValues:{name:"",email:"",password:""}}),a=n.register,y=n.handleSubmit,I=n.formState.errors,P=(0,t.useState)(!0),k=(0,o.Z)(P,2),q=k[0],C=k[1],U=(0,v.Z)(),A=q?"auth/signin":"auth/signup",T=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(a){var i,o,t,l,d;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=a.name,o=a.email,t=a.password,l={name:i,email:o,password:t},d=["professor"],q||f.Z.post(A,(0,r.Z)((0,r.Z)({},l),{},{role:d})).then((function(n){if(201===n.status)return alert("User was created! Please Sign In"),console.log("User created"),void e("/sign",{replace:!0})})).catch((function(n){alert("Email already exists!"),e("/sign",{replace:!0}),console.log(n.message)})),q&&f.Z.post(A,l,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(n){var a=n.data.token,r=n.data.user;console.log(n.data),U.signin(a,r),U.isSignedIn=!0,console.log("User logged In"),e("/my",{replace:!0})})).catch((function(e){alert("User not found!"),console.log(e.message),U.isSignedIn=!1}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,S.jsxs)(g.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,S.jsx)(d.ZP,{}),(0,S.jsx)(g.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(".concat(Z,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,S.jsx)(g.ZP,{item:!0,xs:12,sm:8,md:5,component:m.Z,elevation:6,square:!0,children:(0,S.jsxs)(p.Z,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,S.jsx)(h.Z,{component:"h1",variant:"h5",children:q?"Sign In":"Sign Up - Professors Only"}),(0,S.jsxs)(p.Z,{component:"form",noValidate:!0,onSubmit:y(T),sx:{mt:1},children:[!q&&(0,S.jsx)(u.Z,(0,r.Z)((0,r.Z)({margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Your Name"},a("name",{required:"Name is required!"})),{},{autoComplete:"name",autoFocus:!0,error:!(null===I||void 0===I||!I.name),helperText:null!==I&&void 0!==I&&I.name?I.name.message:null})),(0,S.jsx)(u.Z,(0,r.Z)((0,r.Z)({margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address"},a("email",{required:"Email is required!",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{autoComplete:"email",autoFocus:!0,error:!(null===I||void 0===I||!I.email),helperText:null!==I&&void 0!==I&&I.email?I.email.message:null})),(0,S.jsx)(u.Z,(0,r.Z)((0,r.Z)({margin:"normal",required:!0,fullWidth:!0},a("password",{required:"Password is required!",minLength:{value:8,message:"Invalid password, must have at least 8 characters"}})),{},{label:"Password",type:"password",id:"password",autoComplete:"current-password",error:!(null===I||void 0===I||!I.password),helperText:null!==I&&void 0!==I&&I.password?I.password.message:null})),q&&(0,S.jsx)(b.Z,{control:(0,S.jsx)(j.Z,{value:"remember",color:"primary"}),label:"Remember me"}),(0,S.jsx)(l.Z,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",sx:{mt:3,mb:2},children:q?"Sign In":"Sign Up"}),(0,S.jsx)(g.ZP,{container:!0,children:(0,S.jsx)(g.ZP,{item:!0,children:(0,S.jsx)(c.Z,{href:"#",variant:"body2",onClick:function(){C((function(e){return!e}))},children:q?"Dont have an account? Sign Up":"Have an account? Sign In"})})})]})]})})]})}}}]);
//# sourceMappingURL=660.b98f5e54.chunk.js.map